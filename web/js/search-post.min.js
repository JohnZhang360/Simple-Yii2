jQuery(function(){$.validator.addMethod("filetype",function(a,b,c){var d=a.substring(a.lastIndexOf(".")+1).toLowerCase();return this.optional(b)||$.inArray(d,c)!=-1},$.validator.format("invalid file type")),$("#formSearch").validate({errorLabelContainer:$("div.error-container"),ignore:"",errorElement:"p",rules:{title:{required:!0},sort:{required:!0,digits:!0}},messages:{title:"Please enter title",sort:{required:"Please enter sort",digits:"sort must enter digits"}},submitHandler:function(a){jQuery(a).ajaxSubmit({type:"post",dataType:"json",success:function(a){a.flag?window.location.href=$("#formSearch").attr("data-url"):alert(a.msg)}})}}),1==$("#isAdd").val()&&$("input[name='pic']").rules("add",{required:!0,filetype:["jpg","jpeg","png","ico","gif"],messages:{required:"Please upload image",filetype:"Please upload image"}})});